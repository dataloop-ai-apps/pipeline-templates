{
    "name": "video-trim-and-stitch-pipeline",
    "version": "1.0.0",
    "attributes": {
        "Category": "Pipeline",
        "Pipeline Type": "Template"
    },
    "displayName": "video-trim-and-stitch-pipeline",
    "description": null,
    "scope": "public",
    "components": {
        "pipelineTemplates": [
            {
                "projectId": null,
                "orgId": null,
                "connections": [
                    {
                        "src": {
                            "nodeId": "31415dc1-bc8e-41f4-85b9-8556ac561786",
                            "portId": "d6296bb6-9990-45d8-b8ad-75c80b18cb27"
                        },
                        "tgt": {
                            "nodeId": "758f0338-259c-4390-8af5-e3381c921d5a",
                            "portId": "d61efe0a-2c58-432e-a9de-861706658d22"
                        },
                        "condition": "{}"
                    },
                    {
                        "src": {
                            "nodeId": "758f0338-259c-4390-8af5-e3381c921d5a",
                            "portId": "d2b833dd-e0db-4c4a-9b7b-082c14d927f7"
                        },
                        "tgt": {
                            "nodeId": "bd743df2-f161-4f0b-b000-a4ab10230ea6",
                            "portId": "2f3bba4c-ec1c-445a-ad9a-7063548d72e2"
                        },
                        "condition": "{}",
                        "action": "completed"
                    },
                    {
                        "src": {
                            "nodeId": "bd743df2-f161-4f0b-b000-a4ab10230ea6",
                            "portId": "efe7c471-1b48-4cee-b735-c0ec935f6854"
                        },
                        "tgt": {
                            "nodeId": "6f8f8609-7f9d-4f72-9f66-1b970a41dca9",
                            "portId": "42a16b44-d729-44e4-827d-49a818846a73"
                        },
                        "condition": "{}",
                        "action": "continue"
                    }
                ],
                "startNodes": [
                    {
                        "nodeId": "31415dc1-bc8e-41f4-85b9-8556ac561786",
                        "type": "root",
                        "id": "cf88b560-4f96-4ba9-9dc8-f95ea1198184"
                    }
                ],
                "variables": [

                ],
                "description": "",
                "name": "vts-pipeline",
                "templateKind": "org",
                "nodes": [
                    {
                        "id": "31415dc1-bc8e-41f4-85b9-8556ac561786",
                        "inputs": [
                            {
                                "portId": "e35b75cf-e393-4153-904a-a0e4cb68d913",
                                "nodeId": "e35b75cf-e393-4153-904a-a0e4cb68d913",
                                "type": "Item",
                                "name": "item",
                                "displayName": "item",
                                "io": "input"
                            },
                            {
                                "portId": "07479ba2-f441-47b9-adba-3728bfdba115",
                                "nodeId": "07479ba2-f441-47b9-adba-3728bfdba115",
                                "type": "String",
                                "name": "output_folder",
                                "displayName": "output_folder",
                                "io": "input"
                            },
                            {
                                "portId": "4f090f90-9bce-4cf4-a4e7-4a194cafaa02",
                                "nodeId": "4f090f90-9bce-4cf4-a4e7-4a194cafaa02",
                                "type": "String",
                                "name": "mode",
                                "displayName": "mode",
                                "io": "input"
                            },
                            {
                                "portId": "1971dbc5-4a64-47d1-afff-3bb04cf54e6e",
                                "nodeId": "1971dbc5-4a64-47d1-afff-3bb04cf54e6e",
                                "type": "Integer",
                                "name": "splitter_arg",
                                "displayName": "splitter_arg",
                                "io": "input"
                            },
                            {
                                "portId": "db89ee6f-5b45-46e1-965e-3c37d4a3b98e",
                                "nodeId": "db89ee6f-5b45-46e1-965e-3c37d4a3b98e",
                                "type": "Integer",
                                "name": "n_overlap",
                                "displayName": "n_overlap",
                                "io": "input"
                            }
                        ],
                        "outputs": [
                            {
                                "portId": "c3ab4a97-540a-4884-a2d0-5efec27fa6ee",
                                "nodeId": "c3ab4a97-540a-4884-a2d0-5efec27fa6ee",
                                "type": "Item",
                                "name": "item",
                                "displayName": "item",
                                "io": "output"
                            },
                            {
                                "portId": "d6296bb6-9990-45d8-b8ad-75c80b18cb27",
                                "nodeId": "d6296bb6-9990-45d8-b8ad-75c80b18cb27",
                                "type": "Item[]",
                                "name": "items",
                                "displayName": "items",
                                "io": "output"
                            }
                        ],
                        "name": "Video To Videos Split",
                        "type": "custom",
                        "namespace": {
                            "functionName": "video_to_videos",
                            "projectName": null,
                            "serviceName": "video-to-videos",
                            "moduleName": "video-to-videos",
                            "packageName": "video-utils-trimming"
                        },
                        "projectId": null,
                        "appName": "[Video Utils] - Trimming",
                        "dpkName": "video-utils-trimming",
                        "metadata": {
                            "position": {
                                "x": 9611.3515625,
                                "y": 9878.5,
                                "z": 0
                            },
                            "serviceConfig": {
                                "initParams": {
                                },
                                "name": "video-to-videos",
                                "moduleName": "video-to-videos",
                                "runtime": {
                                    "podType": "regular-xs",
                                    "runnerImage": "dataloopai/dtlpy-agent:cpu.py3.8.opencv4.7",
                                    "numReplicas": 1,
                                    "concurrency": 10,
                                    "pyPackages": {
                                    },
                                    "singleAgent": false,
                                    "autoscaler": {
                                        "type": "rabbitmq",
                                        "minReplicas": 0,
                                        "maxReplicas": 2,
                                        "queueLength": 10
                                    },
                                    "preemptible": false
                                },
                                "maxAttempts": 3,
                                "executionTimeout": 172800,
                                "drainTime": 600,
                                "onReset": "failed",
                                "runExecutionAsProcess": false,
                                "operation": "none"
                            },
                            "componentGroupName": "video-utils",
                            "customNodeConfig": {
                                "output_folder": "/",
                                "mode": "num_frames",
                                "splitter_arg": 100,
                                "n_overlap": 0,
                                "validation": {
                                    "valid": true,
                                    "errors": [
                                    ]
                                }
                            },
                            "repeatable": true,
                            "pipelineNodeName": "video-to-videos"
                        }
                    },
                    {
                        "id": "758f0338-259c-4390-8af5-e3381c921d5a",
                        "inputs": [
                            {
                                "portId": "d61efe0a-2c58-432e-a9de-861706658d22",
                                "nodeId": "d61efe0a-2c58-432e-a9de-861706658d22",
                                "type": "Item",
                                "name": "item",
                                "displayName": "item",
                                "io": "input"
                            }
                        ],
                        "outputs": [
                            {
                                "portId": "d2b833dd-e0db-4c4a-9b7b-082c14d927f7",
                                "nodeId": "d2b833dd-e0db-4c4a-9b7b-082c14d927f7",
                                "type": "Item",
                                "name": "item",
                                "displayName": "Complete",
                                "actions": [
                                    "completed",
                                    "discard"
                                ],
                                "io": "output"
                            }
                        ],
                        "name": "Labeling",
                        "type": "task",
                        "namespace": {
                            "functionName": "move_to_task",
                            "projectName": "DataloopTasks",
                            "serviceName": "pipeline-utils",
                            "moduleName": "default_module",
                            "packageName": "pipeline-utils"
                        },
                        "projectId": "f8a4b8ce-5ff3-4386-84dc-1bda3a5bc92a",
                        "metadata": {
                            "position": {
                                "x": 9911.3515625,
                                "y": 9896.5,
                                "z": 0
                            },
                            "taskType": "annotation",
                            "repeatable": true,
                            "priority": 2,
                            "componentGroupName": "workflow"
                        }
                    },
                    {
                        "id": "bd743df2-f161-4f0b-b000-a4ab10230ea6",
                        "inputs": [
                            {
                                "portId": "2f3bba4c-ec1c-445a-ad9a-7063548d72e2",
                                "nodeId": "2f3bba4c-ec1c-445a-ad9a-7063548d72e2",
                                "type": "Item",
                                "name": "item",
                                "displayName": "item",
                                "io": "input"
                            }
                        ],
                        "outputs": [
                            {
                                "portId": "efe7c471-1b48-4cee-b735-c0ec935f6854",
                                "nodeId": "efe7c471-1b48-4cee-b735-c0ec935f6854",
                                "type": "Item",
                                "name": "item",
                                "displayName": "item",
                                "actions": [
                                    "continue",
                                    "wait"
                                ],
                                "io": "output"
                            }
                        ],
                        "name": "Wait",
                        "type": "custom",
                        "namespace": {
                            "functionName": "wait_for_cycle",
                            "projectName": null,
                            "serviceName": "wait-node",
                            "moduleName": "wait-node",
                            "packageName": "wait-node"
                        },
                        "projectId": null,
                        "appName": "Wait Node",
                        "dpkName": "wait-node",
                        "metadata": {
                            "position": {
                                "x": 10258.703125,
                                "y": 9897,
                                "z": 0
                            },
                            "serviceConfig": {
                                "initParams": {
                                },
                                "name": "wait-node",
                                "moduleName": "wait-node",
                                "runtime": {
                                    "podType": "regular-xs",
                                    "runnerImage": "dataloopai/dtlpy-agent:cpu.py3.8.opencv4.7",
                                    "concurrency": 1,
                                    "autoscaler": {
                                        "minReplicas": 0,
                                        "maxReplicas": 1,
                                        "queueLength": 10
                                    }
                                },
                                "operation": "none"
                            },
                            "componentGroupName": "data",
                            "customNodeConfig": {
                                "name": "Wait",
                                "returnParent": false,
                                "validation": {
                                    "valid": true,
                                    "errors": [
                                    ]
                                }
                            },
                            "repeatable": true,
                            "pipelineNodeName": "Wait Node"
                        }
                    },
                    {
                        "id": "6f8f8609-7f9d-4f72-9f66-1b970a41dca9",
                        "inputs": [
                            {
                                "portId": "42a16b44-d729-44e4-827d-49a818846a73",
                                "nodeId": "42a16b44-d729-44e4-827d-49a818846a73",
                                "type": "Item",
                                "name": "item",
                                "displayName": "item",
                                "io": "input"
                            },
                            {
                                "portId": "6bb01358-acbb-479c-b777-08c5ddce5708",
                                "nodeId": "6bb01358-acbb-479c-b777-08c5ddce5708",
                                "type": "Json",
                                "name": "dql_filter",
                                "displayName": "dql_filter",
                                "io": "input"
                            },
                            {
                                "portId": "797a4cb5-b47d-4a8c-8a9c-908c312f2ca3",
                                "nodeId": "797a4cb5-b47d-4a8c-8a9c-908c312f2ca3",
                                "type": "String",
                                "name": "output_folder",
                                "displayName": "output_folder",
                                "io": "input"
                            }
                        ],
                        "outputs": [
                            {
                                "portId": "629f98a4-94c4-4688-bd3a-7997549815d2",
                                "nodeId": "629f98a4-94c4-4688-bd3a-7997549815d2",
                                "type": "Item",
                                "name": "item",
                                "displayName": "item",
                                "io": "output"
                            }
                        ],
                        "name": "Videos to Video Merge",
                        "type": "custom",
                        "namespace": {
                            "functionName": "videos_to_video",
                            "projectName": null,
                            "serviceName": "videos-to-video",
                            "moduleName": "videos-to-video",
                            "packageName": "video-utils-stitching"
                        },
                        "projectId": null,
                        "appName": "[Video Utils] - Stitching",
                        "dpkName": "video-utils-stitching",
                        "metadata": {
                            "position": {
                                "x": 10614.703125,
                                "y": 9900,
                                "z": 0
                            },
                            "serviceConfig": {
                                "initParams": {
                                },
                                "name": "videos-to-video",
                                "moduleName": "videos-to-video",
                                "runtime": {
                                    "podType": "regular-xs",
                                    "runnerImage": "dataloopai/dtlpy-agent:cpu.py3.8.opencv4.7",
                                    "numReplicas": 1,
                                    "concurrency": 10,
                                    "pyPackages": {
                                    },
                                    "singleAgent": false,
                                    "autoscaler": {
                                        "type": "rabbitmq",
                                        "minReplicas": 0,
                                        "maxReplicas": 2,
                                        "queueLength": 10
                                    },
                                    "preemptible": false
                                },
                                "maxAttempts": 3,
                                "executionTimeout": 172800,
                                "drainTime": 600,
                                "onReset": "failed",
                                "runExecutionAsProcess": false,
                                "operation": "none"
                            },
                            "componentGroupName": "video-utils",
                            "repeatable": true,
                            "pipelineNodeName": "videos-to-video"
                        }
                    }
                ],
                "preview": "669e181cb4e925f5004ce13a",
                "_id": "669e1845a7576b216f1243a3"
            }
        ],
        "services": null
    },
    "dependencies": [
        {
            "name": "video-utils-trimming"
        },
        {
            "name": "video-utils-stitching"
        },
        {
            "name": "wait-node"
        }
    ]
}